<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <link rel="stylesheet" href="../stylesheets/reseñas.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
  
    <title>Reseñas Populares</title>
</head>
<body>

  <nav class="navbar navbar-expand-md navbar-dark" style = "background-color: #00182f;">
    <a class="navbar-brand" href="#">Rincón del Gaming</a>
    <ul class="navbar-nav mr-auto">
      <li class="nav-item">
        <a class="nav-link" href="inicio.html">Inicio<span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Juegos</a>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle active" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Reseñas
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
          <a class="dropdown-item" href="reseñas-recientes.html">Más recientes</a>
          <a class="dropdown-item active" href="reseñas-populares.html">Populares</a>
          <div class="dropdown-divider"></div>
          <a class="dropdown-item" href="#">Menos valoradas</a>
        </div>
      </li>
    </ul>
    <form class="form-inline my-2 my-lg-0">
      <a href="acceder.html" class="btn btn-outline-success mr-sm-2">Acceder</a>
      <a href="registro.html" class="btn btn-outline-info my-2 my-sm-0">Registrar</a>
    </form>
  </nav>

  <div id="titulo">
    <div class="container" style="margin-top: 3%;">
      <h1 class="display-4 text-white">Explora nuestras reseñas mas populares</h1>
    </div>
  </div>

  <hr>

  <div id= "Contenido" class="container" >

  </div>

    <footer id="sticky-footer" class="py-4 text-white" = style="background-color: black;">
      <div class="container text-center">
        <small>Copyright &copy; El Rincón Del Gaming</small>
      </div>
    </footer>

</body>

<script>

  reviews = [];
  games = [];

  function addReview(review){

      $("#Contenido").append(
        '<div class="row featurette">' +
          '<div class="col-md-7 order-md-2">' +
            '<h2 class="featurette-heading text-white ">' + games[review.idJuego].nombre + '</h2>' +
            '<h5 class="text-dark">' + review.autor + ', ' + review.day + '/' + review.month + '/'+ review.year + '</h5>' +
            '<p class="lead text-white">' + review.descripcion + '</p>' +
          '</div>' +
          '<div class="col-md-5 order-md-1">' +
            '<svg class="bd-placeholder-img bd-placeholder-img-lg featurette-image img-fluid mx-auto" width="400" height="350" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice" focusable="false" role="img" aria-label="Placeholder: 500x500">' +
              '<image href="' + review.imagen + '" height="400" width="350"/>' +
            '</svg>' +
            '<div class="botones">' +
                '<button type="button" class="btn btn-outline-success">Like</button>' +
                '<button type="button" class="btn btn-outline-danger">Dislike</button>' +
            '</div>' +
          '</div>' +
        '</div>' +
        '<hr>'
      );

  }
  
  $(document).ready(function(){

    $.get("http://localhost:3000/games", function(informacion){
      games = informacion.respuesta;
    });

    $.get("http://localhost:3000/reviews", function(informacion){
      reviews = informacion.respuesta;

      reviews.forEach(function(review){
        addReview(review);
      });

    });

  });
  
</script>

</html>
